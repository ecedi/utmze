/**
 * jquery-utmz.js
 * @version 1.0.0
 * @build 2014-10-10 
 * @copyright (c) 2014 Agence Ecedi http://ecedi.fr
 * @author Sylvain Gogel <sgogel@ecedi.fr>
 * @licence MIT
 */
"use strict";!function(a){a.fn.utmz=function(b){var c=a.extend({},a.fn.utmz.defaults,b),d=function(a){a=a.split("+").join(" ");for(var b,c={},d=/[?&]?([^=]+)=([^&]*)/g;b=d.exec(a);)c[decodeURIComponent(b[1])]=decodeURIComponent(b[2]);return c},e=function(a){var b,c,d,e=document.createElement("a"),f={};for(e.href=a,b=e.search.replace(/^\?/,"").split("&"),d=0;d<b.length;d++)c=b[d].split("="),f[c[0]]=c[1];return{protocol:e.protocol,host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,searchObject:f,hash:e.hash}},f=function(a){var b=a.split(".");if(b.length<=2)return[a];var c=[],d=b.length-1,e="";for(d;d>=0;d--)e="."+b[d]+e,c.push(e);return c.shift(),c},g=function(a){var b=function(a){var b,c,d=1,e=0;if(a)for(d=0,b=a.length-1;b>=0;b--)c=a.charCodeAt(b),d=(d<<6&268435455)+c+(c<<14),e=266338304&d,d=0!==e?d^e>>21:d;return d},c=Date.now(),d=6,e=1,f="";return f="utmcsr="+a.utmcsr+"|utmccn="+a.utmccn+"|utmcmd="+a.utmcmd,b(document.domain)+"."+c+"."+d+"."+e+"."+f},h=function(a){for(var b=a.split(".").slice(4).join(".").split("|"),c={},d=0;d<b.length;d++){var e=b[d].split("=");c[e[0]]=e[1]}return c},i=function(b,d){var e=g(b);return a.cookie.raw=!0,"auto"!==c.domainName?a.cookie(c.cookieName,e,{expires:c.expires,domain:c.domainName,path:c.cookiePath}):void a(d).each(function(b,d){return a.cookie(c.cookieName,e,{expires:c.expires,domain:d,path:c.cookiePath})})},j={utmcsr:!1,utmccn:!1,utmcmd:!1};a.cookie(c.cookieName)&&(j=h(a.cookie(c.cookieName)));var k=d(document.location.search),l={utmcsr:j.utmcsr||!1,utmccn:j.utmccn||!1,utmcmd:j.utmcmd||!1},m=e(document.domain).hostname;if(k.hasOwnProperty("utm_source"))l.utmcsr=k.utm_source;else{var n=e(document.referrer).hostname;l.utmcsr=n===m?j.utmcsr||"(direct)":n,l.utmcsr===!1&&(l.utmcsr="(organic)")}k.hasOwnProperty("utm_campaign")&&(l.utmccn=k.utm_campaign),k.hasOwnProperty("utm_medium")&&(l.utmcmd=k.utm_medium);var o=f(m);return i(l,o),this},a.fn.utmz.defaults={domainName:"auto",cookiePath:"/",expires:182,cookieName:"__utmze"}}(jQuery);